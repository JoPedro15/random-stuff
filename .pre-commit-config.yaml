# automation-hub/.pre-commit-config.yaml

# Automation Hub Pre-commit Configuration
# Orchestrating quality for Core, GDrive, and AI-Utils clients

repos:
  # --- Core Hygiene: Basic file integrity and standards ---
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: end-of-file-fixer           # Ensures files end with a newline
      - id: trailing-whitespace          # Trims unnecessary whitespace
      - id: mixed-line-ending           # Normalizes LF/CRLF (standardizes line breaks)
      - id: check-yaml                  # Validates YAML syntax for config files
      - id: check-ast                   # Ensures Python files are syntactically valid
      - id: check-merge-conflict        # Blocks unresolved git merge conflicts
      - id: check-added-large-files     # Prevents large binary commits (>3MB)
        args: [ '--maxkb=3000' ]

  # --- Ruff: Unified Linter, Formatter & Security (Native Notebook Support) ---
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.9.0
    hooks:
      - id: ruff                        # Handles Logic, Imports, and Security (S) rules
        args: [ --fix, --exit-non-zero-on-fix ]
      - id: ruff-format                  # Standardizes Style & Formatting
        # Note: Ruff automatically discovers and formats .ipynb files

  # --- Spelling Check: Preventing typos in code and documentation ---
  - repo: https://github.com/codespell-project/codespell
    rev: v2.4.1
    hooks:
      - id: codespell
        args: [ --ignore-words-list=nd,ue,ody ]
        exclude: ^clients/.*\.egg-info/|^.venv/

  # --- Documentation: Markdown formatting for high-quality READMEs ---
  - repo: https://github.com/executablebooks/mdformat
    rev: 1.0.0
    hooks:
      - id: mdformat
        additional_dependencies: [ mdformat-gfm ]
        types: [ markdown ]
